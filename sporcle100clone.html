<!DOCTYPE html>
<style>
body {
    font-family: sans-serif;
    font-size: 30px;
}
table {
    width: 100%;
}
td {
    text-align: center;
    background-color: #bbf;
    border-radius: 5px;
    padding: 0.5em;
    width: 3em;
}
td:hover {
    background-color: #88f;
}
td.done {
    background-color: #ffa;
}
td.wrong {
    background-color: #faa;
}
</style>
<p id="alert-msg"></p>
<table id="main-tbl"></table>
<script>
const alert_msg = document.getElementById("alert-msg");
const tbl = document.getElementById("main-tbl");
const WIDTH = 10;
const N = 100;

function shuffle(arr) {
    for (let j = arr.length; --j > 0; ) {
        const i = Math.floor(Math.random() * j);
        const tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }
}

const order = [];
for (let i = 0; i < N; i++) order.push(i+1);
shuffle(order);
console.log(order);

let expected_next = 1;
let game_over = false;
let game_start = null;

function updateExpectedNext() {
    alert_msg.textContent = `Looking for: ${expected_next}`;
}

updateExpectedNext();

function gameOver(msg) {
    game_over = true;
    alert_msg.textContent = msg;
    // alert_msg.style.display = "";
}

for (let i = 0; i < N; i += WIDTH) {
    const row = document.createElement("tr");
    for (let j = 0; j < WIDTH; j++) {
        const cell = document.createElement("td");
        let val = order[i + j];
        cell.innerHTML = val;
        row.appendChild(cell);
        cell.onclick = function() {
            if (game_over) return;
            if (val == expected_next) {
                cell.classList.add("done");
                cell.onclick = null;
                if (expected_next == N) {
                    const game_end = +new Date();
                    const game_time = game_end - game_start;
                    const game_mins = Math.floor(game_time / (60 * 1000));
                    const game_secs = game_time % (60 * 1000) / 1000;
                    gameOver(`Finished in ${game_mins}m${game_secs.toFixed(1)}s`);
                } else {
                    if (game_start == null) {
                        game_start = +new Date();
                    }
                    expected_next++;
                    updateExpectedNext();
                }
            } else {
                cell.classList.add("wrong");
                gameOver("You pressed the wrong number!");
            }
        }
    }
    tbl.appendChild(row);
}
</script>
